timestamp: 2026-01-20T18:24:49.293117+01:00
session: true
header: run.sh batch



----- RUN RECORD -----
timestamp: 2026-01-20T18:24:56.275707+01:00
source: graph_rag

Question:
What is our current event streaming platform, and which ADR superseded the previous one? (ids + dates)

Answer:
- Current event streaming platform: Google Pub/Sub (Cloud Pub/Sub).
- ADR that superseded the previous one: ADR-0005 (Switch to Cloud Pub/Sub), dated 2023-06-05, which superseded ADR-0001 (Use Kafka for Event Streaming), dated 2022-09-14.


----- RUN RECORD -----
timestamp: 2026-01-20T18:25:21.930379+01:00
source: rag

Question:
What is our current event streaming platform, and which ADR superseded the previous one? (ids + dates)

Answer:
- Current event streaming platform: ADR-0005 – Switch to Cloud Pub/Sub (Google Pub/Sub). Date: 2023-06-05. 

- Which ADR superseded the previous one: ADR-0005 supersedes ADR-0001 – Use Kafka for Event Streaming. ADR-0001 date: 2022-09-14.


----- RUN RECORD -----
timestamp: 2026-01-20T18:26:07.534063+01:00
source: graph_rag

Question:
Given we switched to Pub/Sub, what ADR(s) still govern event contract/schema governance, and what tooling do we use?

Answer:
- ADRs governing event contracts/schema governance: ADR-0008 — Introduce Schema Registry for Event Contracts.
- Tooling used: Confluent Schema Registry with Avro schemas, with compatibility checks enforced in CI/CD pipelines.


----- RUN RECORD -----
timestamp: 2026-01-20T18:26:50.645498+01:00
source: rag

Question:
Given we switched to Pub/Sub, what ADR(s) still govern event contract/schema governance, and what tooling do we use?

Answer:
- ADR that still governs event contract/schema governance: ADR-0008 — Introduce Schema Registry for Event Contracts. This ADR defines the governance for event schemas (contracts) and is the current governing policy for event-schema-governance. It explicitly covers strong governance for event contracts and the use of a schema registry.  

- How this maps after switching to Pub/Sub: Pub/Sub is the event-streaming platform, per ADR-0005. The governance relationship shows that ADR-0005 governs the event-streaming platform, while ADR-0008 governs the event-schema-governance layer that sits on top of that platform.  

- Tooling used for event contract/schema governance: Confluent Schema Registry with Avro schemas for all events, with compatibility checks enforced in CI/CD pipelines. This is the tooling specified by ADR-0008. 

In short: even after moving to Google Pub/Sub (ADR-0005), ADR-0008 remains the governing policy for event contract/schema governance, and we use Confluent Schema Registry (Avro) with CI/CD compatibility checks to enforce it.


----- RUN RECORD -----
timestamp: 2026-01-20T18:27:16.927645+01:00
source: graph_rag

Question:
Timeline of messaging platform decisions?

Answer:
Here is the messaging platform decision timeline:

- 2022-09-14: ADR-0001 - Use Kafka for Event Streaming. Accepted. Adopted Kafka as the event streaming backbone to decouple microservices (Order, Customer, Inventory). This established Kafka as the standard for event streams (e.g., orders.created, inventory.reserved).

- 2023-06-05: ADR-0005 - Switch to Cloud Pub/Sub. Accepted. Supersedes ADR-0001. Decided to switch from Apache Kafka to Google Pub/Sub to reduce operational burden and leverage a managed service. Consequences include lower maintenance, easier cloud integration, potential vendor lock-in, and a migration effort to move existing Kafka topics.

- Ongoing governance note (as of 2024): ADR-0005 governs the event-streaming-platform, per ADR lineage metadata, superseding ADR-0001. This indicates the current standard for event streaming is Google Pub/Sub, not Kafka.


----- RUN RECORD -----
timestamp: 2026-01-20T18:27:59.459233+01:00
source: rag

Question:
Timeline of messaging platform decisions?

Answer:
Here’s a concise timeline of the messaging/event-streaming platform decisions found in the ADRs:

- 2022-09-14: ADR-0001 — Use Kafka for Event Streaming. Initial plan to use Apache Kafka as the backbone to decouple microservices. This ADR is the starting point for the event-streaming decision trail. 

- 2023-01-20: ADR-0003 — Service-to-Service Authentication with OAuth2 (Keycloak as IdP). Establishes how services authenticate/authorize with each other. 

- 2023-02-15: ADR-0004 — Adopt API Gateway for External Traffic (Kong). Defines a single entry point for external clients and policy enforcement. 

- 2023-06-05: ADR-0005 — Switch to Cloud Pub/Sub (switch from Kafka). This ADR supersedes ADR-0001 and moves the event-streaming platform to Google Pub/Sub, reducing operational overhead.  

- 2023-10-20: ADR-0008 — Introduce Schema Registry for Event Contracts (Confluent Schema Registry with Avro). Adds strict schema governance for events. 

- 2024-01-10: ADR-0009 — Define Service Ownership and Dependency Map. Expands governance around service ownership and how services depend on each other (relevant to how the messaging layer is managed). 

- 2024-01-17: ADR-0010 — Establish ADR Lineage (Supersedes/Amends) Metadata. formalizes lineage metadata and notes related ADRs (including ADR-0001, ADR-0005, ADR-0003, ADR-0008). 

Notes:
- ADR-0005 explicitly supersedes ADR-0001, marking the shift from Kafka to Pub/Sub as the current messaging backbone. See the ADRs for the exact language and consequences. 
- The lineage/relationship information in ADR-0010 helps connect the modern messaging decisions to prior ADRs (e.g., ADR-0001, ADR-0005, ADR-0008). 

If you’d like, I can format this as a timeline graphic or export a slide-friendly version.
